(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{390:function(e,t,r){"use strict";r.r(t);r(34),r(35);var l={data:function(){return{customQueryResults:[],headers:[{text:"Year",value:"year"},{text:"Month",value:"month"},{text:"Area Number",value:"areaNumber"},{text:"Area Name",value:"areaName"},{text:"Fish Caught",value:"fishCaught"},{text:"System",value:"system"},{text:"Region",value:"region"}],baseURL:"../api/CustomQuery?",url:"../api/CustomQuery?",months:["January","February","March","April","May","June","July","August","September","October","November","December"],validYears:[],validYearsURL:"GetYears",validMonths:[],validMonthsURL:"GetMonths",validAreas:[],validAreasURL:"../api/GetAreas",validRegions:[],validRegionsURL:"../api/GetRegions",validSystems:[],validSystemsURL:"../api/GetSystems",validGroupBys:["None","Date","Year","Month","AreaNumber","System","Region"],validAggregates:["Sum","Average","Max","Min"],validSorts:["Ascending","Descending"],validSortBy:["Year","Month","System","AreaNumber","Region","FishCaught"],validGroupSortBy:["Group Name","Fish Caught"],saveQueryURL:"../api/SaveQuery?queryURL=",getUserQueriesURL:"../api/GetUserQueries",userQueries:[],advancedDisplay:!1,groupedDisplay:!1,queryName:"",selectedRegion:null,selectedArea:null,selectedMonth:"Select A Month",selectedYear:null,selectedSystem:null,selectedAggregate:"Average",selectedGroupBy:"None",selectedUserQuery:null,selectedSort:"Ascending",selectedSortBy:"AreaNumber",selectedGroupSortBy:"Group Name",haulGreaterThan:0,haulLessThan:1e4,rows:1e3}},computed:{completeURL:function(){var e=this.url+"haulGreaterThan="+this.haulGreaterThan+"&";return e+="haulLessThan="+this.haulLessThan+"&",e+="rows="+this.rows+"&",e+="groupBy="+this.selectedGroupBy+"&","Descending"===this.selectedSort&&(e+="sortAscending=false&"),this.groupedDisplay?(e+="sortBy="+this.selectedGroupSortBy+"&",e+="aggregate="+this.selectedAggregate+"&"):e+="sortBy="+this.selectedSortBy+"&",e}},mounted:function(){this.fillTable(),this.getYears(),this.getMonths(),this.getAreas(),this.getRegions(),this.getSystems(),this.getUserQueries()},methods:{fillTable:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===t&&(t=this.completeURL),t.includes("groupBy=None")?this.groupedDisplay=!1:this.groupedDisplay=!0,this.$axios.$get(t).then((function(t){e.customQueryResults=t}))},getYears:function(){var e=this;this.$axios.$get(this.validYearsURL).then((function(t){e.validYears=t}))},getMonths:function(){var e=this;this.$axios.$get(this.validMonthsURL).then((function(t){e.validMonths=t}))},getAreas:function(){var e=this;this.$axios.$get(this.validAreasURL).then((function(t){e.validAreas=t}))},getRegions:function(){var e=this;this.$axios.$get(this.validRegionsURL).then((function(t){e.validRegions=t}))},getSystems:function(){var e=this;this.$axios.$get(this.validSystemsURL).then((function(t){e.validSystems=t}))},getUserQueries:function(){var e=this;this.$axios.$get(this.getUserQueriesURL).then((function(t){e.userQueries=t}))},addFilter:function(e,t){this.url+=e+"="+t+"&",this.fillTable();for(var r=document.body.getElementsByTagName("select"),i=0;i<r.length;i++)r[i].selectedIndex="0"},saveQuery:function(){var e=this.completeURL,t=this.queryName,r=this.saveQueryURL+encodeURIComponent(e)+"&queryName="+t;alert(r),this.$axios.post(r).then((function(e){alert("Query Saved")}))},resetURL:function(){this.url=this.baseURL,this.selectedSortBy="AreaNumber",this.selectedGroupBy="None",this.fillTable()},buildCompleteURL:function(){var e=this.url+"haulGreaterThan="+this.haulGreaterThan+"&";return e+="haulLessThan="+this.haulLessThan+"&",e+="rows="+this.rows+"&",e+="groupBy="+this.selectedGroupBy+"&","Average"===this.selectedAggregate?e+="average=true&":e+="average=false&",e}}},n=r(36),o=r(76),c=r.n(o),v=r(380),d=r(119),h=r(359),m=r(387),y=r(368),_=r(310),f=r(325),component=Object(n.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.advancedDisplay?r("div",[r("v-text-field",{staticStyle:{width:"700px"},attrs:{label:"Enter a Name for Your Query"},model:{value:e.queryName,callback:function(t){e.queryName=t},expression:"queryName"}}),e._v(" "),r("v-btn",{on:{click:function(t){return e.saveQuery()}}},[e._v("\n      Save Query\n    ")]),e._v(" "),r("v-autocomplete",{attrs:{items:e.userQueries,"item-text":"queryName","item-value":"queryUrl",label:"Select a user query."},on:{change:function(t){return e.fillTable(e.selectedUserQuery)}},model:{value:e.selectedUserQuery,callback:function(t){e.selectedUserQuery=t},expression:"selectedUserQuery"}}),e._v(" "),r("p",[e._v(e._s(e.completeURL))]),e._v(" "),r("v-btn",{on:{click:function(t){return e.fillTable()}}},[e._v("\n      Refresh Table\n    ")]),e._v(" "),r("br")],1):e._e(),e._v(" "),r("v-btn",{on:{click:function(t){e.advancedDisplay=!e.advancedDisplay}}},[e._v("\n    Advanced Display\n  ")]),e._v(" "),r("v-btn",{on:{click:function(t){return e.resetURL()}}},[e._v("\n    Reset\n  ")]),e._v(" "),r("v-row",[r("v-col",[r("v-autocomplete",{attrs:{items:e.validYears,label:"Select a Year"},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}}),e._v(" "),r("v-btn",{on:{click:function(t){return e.addFilter("years",e.selectedYear)}}},[e._v("\n        Add Year Filter\n      ")])],1),e._v(" "),r("v-col",[r("v-autocomplete",{attrs:{items:e.validMonths,"item-text":"monthName","item-value":"monthNumber",label:"Select a Month"},model:{value:e.selectedMonth,callback:function(t){e.selectedMonth=t},expression:"selectedMonth"}}),e._v(" "),r("v-btn",{on:{click:function(t){return e.addFilter("months",e.selectedMonth)}}},[e._v("\n        Add Month Filter\n      ")])],1),e._v(" "),r("v-col",[r("v-autocomplete",{attrs:{items:e.validAreas,"item-text":function(e){return e.areaNumber+": "+e.areaName},"item-value":"areaNumber",label:"Select an Area"},model:{value:e.selectedArea,callback:function(t){e.selectedArea=t},expression:"selectedArea"}}),e._v(" "),r("v-btn",{on:{click:function(t){return e.addFilter("areaNumbers",e.selectedArea)}}},[e._v("\n        Add Area Filter\n      ")])],1)],1),e._v(" "),r("v-row",[r("v-col",[r("v-autocomplete",{attrs:{items:e.validRegions,label:"Select a Region"},model:{value:e.selectedRegion,callback:function(t){e.selectedRegion=t},expression:"selectedRegion"}}),e._v(" "),r("v-btn",{on:{click:function(t){return e.addFilter("regions",e.selectedRegion)}}},[e._v("\n        Add Region Filter\n      ")])],1),e._v(" "),r("v-col",[r("v-autocomplete",{attrs:{items:e.validSystems,label:"Select a System"},model:{value:e.selectedSystem,callback:function(t){e.selectedSystem=t},expression:"selectedSystem"}}),e._v(" "),r("v-btn",{on:{click:function(t){return e.addFilter("systems",e.selectedSystem)}}},[e._v("\n        Add System Filter\n      ")])],1),e._v(" "),r("v-col",[r("v-autocomplete",{attrs:{items:e.validGroupBys,label:"Select a Column To Group"},on:{change:function(t){return e.fillTable()}},model:{value:e.selectedGroupBy,callback:function(t){e.selectedGroupBy=t},expression:"selectedGroupBy"}})],1),e._v(" "),r("v-col",[r("v-autocomplete",{attrs:{items:e.validAggregates,label:"Select Group Data"},on:{change:function(t){return e.fillTable()}},model:{value:e.selectedAggregate,callback:function(t){e.selectedAggregate=t},expression:"selectedAggregate"}})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("span",[e._v("Haul greater than:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.haulGreaterThan,expression:"haulGreaterThan"}],attrs:{type:"text"},domProps:{value:e.haulGreaterThan},on:{blur:function(t){return e.fillTable()},input:function(t){t.target.composing||(e.haulGreaterThan=t.target.value)}}})]),e._v(" "),r("v-col",[r("span",[e._v("Haul less than:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.haulLessThan,expression:"haulLessThan"}],attrs:{type:"text"},domProps:{value:e.haulLessThan},on:{blur:function(t){return e.fillTable()},input:function(t){t.target.composing||(e.haulLessThan=t.target.value)}}})]),e._v(" "),r("v-col",[r("span",[e._v("Rows to return:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.rows,expression:"rows"}],attrs:{type:"text"},domProps:{value:e.rows},on:{blur:function(t){return e.fillTable()},input:function(t){t.target.composing||(e.rows=t.target.value)}}})]),e._v(" "),r("v-col",[r("v-select",{attrs:{items:e.validSorts,label:"Select Sort Order"},on:{change:function(t){return e.fillTable()}},model:{value:e.selectedSort,callback:function(t){e.selectedSort=t},expression:"selectedSort"}})],1),e._v(" "),r("v-col",[e.groupedDisplay?r("div",[r("v-select",{attrs:{items:e.validGroupSortBy,label:"Select Column To Sort By"},on:{change:function(t){return e.fillTable()}},model:{value:e.selectedGroupSortBy,callback:function(t){e.selectedGroupSortBy=t},expression:"selectedGroupSortBy"}})],1):r("div",[r("v-autocomplete",{attrs:{items:e.validSortBy,label:"Select Column To Sort By"},on:{change:function(t){return e.fillTable()}},model:{value:e.selectedSortBy,callback:function(t){e.selectedSortBy=t},expression:"selectedSortBy"}})],1)])],1),e._v(" "),r("br"),e._v(" "),e.groupedDisplay?r("div",[r("table",[e._m(1),e._v(" "),e._l(e.customQueryResults,(function(t,l){return r("tr",{key:l},[r("td",[e._v(e._s(t.groupKey))]),e._v(" "),r("td",[e._v(e._s(t.fishCaught))])])}))],2)]):r("div",[r("v-data-table",{attrs:{items:e.customQueryResults,headers:e.headers}}),e._v(" "),r("br"),e._v(" "),r("table",[e._m(0),e._v(" "),e._l(e.customQueryResults,(function(t,l){return r("tr",{key:l},[r("td",[e._v(e._s(t.year))]),e._v(" "),r("td",[e._v(e._s(t.month))]),e._v(" "),r("td",[e._v(e._s(t.areaNumber))]),e._v(" "),r("td",[e._v(e._s(t.areaName))]),e._v(" "),r("td",[e._v(e._s(t.fishCaught))]),e._v(" "),r("td",[e._v(e._s(t.system))]),e._v(" "),r("td",[e._v(e._s(t.region))])])}))],2)],1)],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",[e._v("Year")]),e._v(" "),r("th",[e._v("Month")]),e._v(" "),r("th",[e._v("Area Number")]),e._v(" "),r("th",[e._v("Area Name")]),e._v(" "),r("th",[e._v("Fish Caught")]),e._v(" "),r("th",[e._v("System")]),e._v(" "),r("th",[e._v("Region")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[this._v("Group Key")]),this._v(" "),t("th",[this._v("Fish Caught")])])}],!1,null,null,null);t.default=component.exports;c()(component,{VAutocomplete:v.a,VBtn:d.a,VCol:h.a,VDataTable:m.a,VRow:y.a,VSelect:_.a,VTextField:f.a})}}]);